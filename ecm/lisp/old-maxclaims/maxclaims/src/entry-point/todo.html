<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Maxclaim ECM : Tasks (to be) done</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<meta name="title" content="Maxclaim ECM : Tasks (to be) done"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2013-06-04 18:23:37 PDT"/>
<meta name="author" content="Drew Crampsie"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  {margin-left:auto; margin-right:0px;  text-align:right;}
  .left   {margin-left:0px;  margin-right:auto; text-align:left;}
  .center {margin-left:auto; margin-right:auto; text-align:center;}
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top;  }
  th.right  { text-align:center;  }
  th.left   { text-align:center;   }
  th.center { text-align:center; }
  td.right  { text-align:right;  }
  td.left   { text-align:left;   }
  td.center { text-align:center; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  div.inlinetask {
    padding:10px;
    border:2px solid gray;
    margin:10px;
    background: #ffffcc;
  }
  textarea { overflow-x: auto; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>

</head>
<body>

<div id="preamble">

</div>

<div id="content">
<h1 class="title">Maxclaim ECM : Tasks (to be) done</h1>


<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1 Questions / Comments / Discussion [0/1]</a>
<ul>
<li><a href="#sec-1-1">1.1 Timecards should be unique, and enforced? [0/2]</a></li>
</ul>
</li>
<li><a href="#sec-2">2 Tasks To Do [0/4]</a>
<ul>
<li><a href="#sec-2-1">2.1 Critical [0/13]</a>
<ul>
<li><a href="#sec-2-1-1">2.1.1 NEW TRANSACTION will generate negative amounts. [2/3]</a></li>
<li><a href="#sec-2-1-2">2.1.2 Claim Detail of loss must be there for setup</a></li>
<li><a href="#sec-2-1-3">2.1.3 more things for insured search results [0/2]</a></li>
<li><a href="#sec-2-1-4">2.1.4 administration button</a></li>
<li><a href="#sec-2-1-5">2.1.5 is there a “timezone” for the new system?  It’s just that the dates seem to show up differently.</a></li>
<li><a href="#sec-2-1-6">2.1.6 check out read only can run reports</a></li>
<li><a href="#sec-2-1-7">2.1.7 For timestamps add GMT so user knows it is GMT</a></li>
<li><a href="#sec-2-1-8">2.1.8 change risk (create new)</a></li>
<li><a href="#sec-2-1-9">2.1.9 seems to log out a lot &hellip; could be a session thing?</a></li>
<li><a href="#sec-2-1-10">2.1.10 Sandy Bordereau fixes [2/4]</a></li>
<li><a href="#sec-2-1-11">2.1.11 christian bordereau fixes [1/2]</a></li>
<li><a href="#sec-2-1-12">2.1.12 It looks like the system could do with a quick check on searching&hellip;.</a></li>
<li><a href="#sec-2-1-13">2.1.13 Bordereau fixes</a></li>
</ul>
</li>
<li><a href="#sec-2-2">2.2 Important [1/11]</a>
<ul>
<li><a href="#sec-2-2-1">2.2.1 add it so admins can move timecards/attachements/transactions etc.</a></li>
<li><a href="#sec-2-2-2">2.2.2 break up the edit-attribute-block</a></li>
<li><a href="#sec-2-2-3">2.2.3 Can we make sure that if we're in a claim doing something and we click "submit" or "enter" or "delete" or whatever&hellip;.that we go back into the claim and not the homepage?</a></li>
<li><a href="#sec-2-2-4">2.2.4 claim view heading province should be the word, not the ACronym.</a></li>
<li><a href="#sec-2-2-5">2.2.5 List all users so admin can get rid of a few</a></li>
<li><a href="#sec-2-2-6">2.2.6 Can our name have a different heading such as "Examiner" [0/1]</a></li>
<li><a href="#sec-2-2-7">2.2.7 Add Messages</a></li>
<li><a href="#sec-2-2-8">2.2.8 no option - ever - to get negative reserves</a></li>
<li><a href="#sec-2-2-9">2.2.9 "over authority"/"Coverage revbiiew":  "yes" "no".</a></li>
<li><a href="#sec-2-2-10">2.2.10 Sandy Morrison wants/needs [0/3]</a></li>
</ul>
</li>
<li><a href="#sec-2-3">2.3 Bugs / Fixes [3/5]</a>
<ul>
<li><a href="#sec-2-3-1">2.3.1 When view/edit button of transaction, go back to claim.</a></li>
<li><a href="#sec-2-3-2">2.3.2 add / spread out the bordereau name person</a></li>
<li><a href="#sec-2-3-3">2.3.3 I'm unable to delete attachments on the old system.</a></li>
<li><a href="#sec-2-3-4">2.3.4 Person needs "Contracts as Agency"</a></li>
<li><a href="#sec-2-3-5">2.3.5 create Claim Timecard : claim id is listed twice</a></li>
</ul>
</li>
<li><a href="#sec-2-4">2.4 Other [1/5]</a>
<ul>
<li><a href="#sec-2-4-1">2.4.1 Can you provide a total for the amount of hours spent on the file on the Timecards tab?</a></li>
<li><a href="#sec-2-4-2">2.4.2 Is there a log out button?</a></li>
<li><a href="#sec-2-4-3">2.4.3 Very confusing option when u try to upload a doc or do a timecard.</a></li>
<li><a href="#sec-2-4-4">2.4.4 odd error for deductible</a></li>
</ul></li>
</ul>
</li>
<li><a href="#sec-3">3 Tasks that are Done [33/33]</a>
<ul>
<li><a href="#sec-3-1">3.1 calendar automatically come up with the current date.</a></li>
<li><a href="#sec-3-2">3.2 cheque register by contract</a></li>
<li><a href="#sec-3-3">3.3 when there is noly 1 search result , go to that view</a></li>
<li><a href="#sec-3-4">3.4 moved from claim 29061 to claim 29580</a></li>
<li><a href="#sec-3-5">3.5 Diary Entries [3/3]</a></li>
<li><a href="#sec-3-6">3.6 total paid net + outstanding reserve = incurred</a></li>
<li><a href="#sec-3-7">3.7 report start date should be 1st of this month, end date should be (:now)</a></li>
<li><a href="#sec-3-8">3.8 Timezone for all times [5/5]</a>
<ul>
<li><a href="#sec-3-8-1">3.8.1 Claim Date of Loss [3/3]</a></li>
<li><a href="#sec-3-8-2">3.8.2 Adding Policy should have date only</a></li>
<li><a href="#sec-3-8-3">3.8.3 Adding Contract should have date only</a></li>
<li><a href="#sec-3-8-4">3.8.4 timezone for timecards</a></li>
<li><a href="#sec-3-8-5">3.8.5 is there a “timezone” for the new system?  It’s just that the dates seem to show up differently.</a></li>
</ul>
</li>
<li><a href="#sec-3-9">3.9 no CREATE-HEADING found for DEFER-DIARY-ENTRY</a></li>
<li><a href="#sec-3-10">3.10 Download timecards between interims (and all )</a></li>
<li><a href="#sec-3-11">3.11 Error : #&lt;STANDARD-GENERIC-FUNCTION USER-CONTRACTS (1)&gt;</a></li>
<li><a href="#sec-3-12">3.12 I can’t figure out how to complete a diary. </a></li>
<li><a href="#sec-3-13">3.13 checkbox needs work &hellip;</a></li>
<li><a href="#sec-3-14">3.14 Do we have a capacity issue with downloading?</a></li>
<li><a href="#sec-3-15">3.15 Can we do something to make the interim a bit more obvious?</a></li>
<li><a href="#sec-3-16">3.16 When I try to put in a diary event the default date is December 31st 1899 as opposed to today’s date</a></li>
<li><a href="#sec-3-17">3.17 Max attachment upload</a></li>
<li><a href="#sec-3-18">3.18 http://localhost:8181/ecm/search errors if not logged in.</a></li>
<li><a href="#sec-3-19">3.19 Diary date- to set a new one the system starts in 1899. Impossible to move to 2013 on every file.</a></li>
<li><a href="#sec-3-20">3.20 Attachments no longer DL'ing</a></li>
<li><a href="#sec-3-21">3.21 "Go back to the editor" &hellip;at this stage there a number of fields that show up blank</a></li>
<li><a href="#sec-3-22">3.22 NEW CLAIMS fixing</a></li>
<li><a href="#sec-3-23">3.23 "I am unable to edit transactions."</a></li>
<li><a href="#sec-3-24">3.24 Would like to see the Province for the insured.  Very helpful for Ontario claims! [2/2]</a></li>
<li><a href="#sec-3-25">3.25 What goes on with the dates for timecards and interims?</a></li>
<li><a href="#sec-3-26">3.26 Is there a home button? When I click ECM, top left, it logs me aout.</a></li>
<li><a href="#sec-3-27">3.27 Contract agency and syndicate should be like the policy</a></li>
<li><a href="#sec-3-28">3.28 there is no option to create a new one without going out [0/0]</a>
<ul>
<li><a href="#sec-3-28-1">3.28.1 How it works (now)</a></li>
</ul>
</li>
<li><a href="#sec-3-29">3.29 Add [logout] to navbar</a></li>
<li><a href="#sec-3-30">3.30 view claim has deductible errors</a></li>
<li><a href="#sec-3-31">3.31 Where to add the recovered deductible field? [1/1]</a>
<ul>
<li><a href="#sec-3-31-1">3.31.1 deductibles to NOT be linked into transactions [6/6]</a></li>
</ul>
</li>
<li><a href="#sec-3-32">3.32 remove old UCW app [3/3]</a></li>
<li><a href="#sec-3-33">3.33 [11/11]</a>
<ul>
<li><a href="#sec-3-33-1">3.33.1 Wednesday Feb 20 [3/3]</a></li>
<li><a href="#sec-3-33-2">3.33.2 Person "Claims as Adjuster" is not working?</a></li>
<li><a href="#sec-3-33-3">3.33.3 Add "ECM Users" to Person</a></li>
<li><a href="#sec-3-33-4">3.33.4 Date has issues for contract</a></li>
<li><a href="#sec-3-33-5">3.33.5 Can you provide a total for the amount of hours spent on the file on the Timecards tab? [2/2]</a></li>
<li><a href="#sec-3-33-6">3.33.6 Migrate users timecards between two claims for users</a></li>
<li><a href="#sec-3-33-7">3.33.7 Add interim to timecard display so add and delete work.</a></li>
<li><a href="#sec-3-33-8">3.33.8 fix add new timecard</a></li>
<li><a href="#sec-3-33-9">3.33.9 Add the TODO html to the application [3/3]</a></li>
<li><a href="#sec-3-33-10">3.33.10 The timecards are shown as fractions which seems confusing. 1/10 or 3/5. Decimals is easier to add up.</a></li>
<li><a href="#sec-3-33-11">3.33.11 Timecards are not all in date order</a></li>
</ul></li>
</ul>
</li>
<li><a href="#sec-4">4 appendix</a></li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Questions / Comments / Discussion [0/1]</h2>
<div class="outline-text-2" id="text-1">


</div>

<div id="outline-container-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> <span class="todo TODO"> TODO</span> Timecards should be unique, and enforced? [0/2]</h3>
<div class="outline-text-3" id="text-1-1">

<ul>
<li><code>[&nbsp;]</code> add milliseconds for unique
</li>
<li><code>[&nbsp;]</code> add the constraint
</li>
</ul>

</div>
</div>

</div>

<div id="outline-container-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Tasks To Do [0/4]</h2>
<div class="outline-text-2" id="text-2">


</div>

<div id="outline-container-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> <span class="todo TODO"> TODO</span> Critical [0/13]</h3>
<div class="outline-text-3" id="text-2-1">


</div>

<div id="outline-container-2-1-1" class="outline-4">
<h4 id="sec-2-1-1"><span class="section-number-4">2.1.1</span> <span class="todo STARTED"> STARTED</span> NEW TRANSACTION will generate negative amounts. [2/3]</h4>
<div class="outline-text-4" id="text-2-1-1">


<p>
"CREATING NEW TRANSACTION :
 For the most part it works well, but will generate negative amounts."
&ndash; Sandy
</p>
<p>
Ok, so the outstanding reserve should not be negative, ever.
</p>
<ul>
<li id="sec-2-1-1-1"><span class="done DONE"> DONE</span> find out how the reserve is calculated.<br/>
      <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-06-04 Tue 13:10</span></span><br/>



<pre class="src src-sql">SELECT claim_outstanding_reserve (<span style="color: #8b2252;">'Adjusting'</span>, 28546);
<span style="color: #b22222;">--  claim_outstanding_reserve </span>
<span style="color: #b22222;">-- ---------------------------</span>
<span style="color: #b22222;">--                    -100.00</span>
<span style="color: #b22222;">-- (1 row)    </span>
</pre>


</li>
</ul>
<ul>
<li id="sec-2-1-1-2"><span class="todo TODO"> TODO</span> Make a rule test tests for it [5/7]<br/>
<a href="http://www.postgresql.org/docs/9.1/static/rules-update.html">http://www.postgresql.org/docs/9.1/static/rules-update.html</a>
<ul>
<li id="sec-2-1-1-2-1"><span class="done DONE"> DONE</span> create a plpsql function to raise an error<br/>
       <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-06-04 Tue 14:12</span></span><br/>
      did not need it
<a href="file:///home/drewc/maxclaims/src/maxclaims/database/migrations.lisp#define-migration-22">error(text) function</a>

</li>
</ul>
<ul>
<li id="sec-2-1-1-2-2"><span class="done DONE"> DONE</span> Add a function that does the check<br/>
       <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-06-04 Tue 14:32</span></span><br/>
DID not need it
<a href="file:///home/drewc/maxclaims/src/maxclaims/database/migrations.lisp#CREATE-FUNCTION-check_positive_outstanding_reserve-claim_transaction">CREATE FUNCTION check<sub>positive</sub><sub>outstanding</sub><sub>reserve</sub> (claim<sub>transaction</sub>)</a>
</li>
</ul>
<ul>
<li id="sec-2-1-1-2-3"><span class="done DONE"> DONE</span> Add the error<sub>outstanding</sub><sub>reserve</sub><br/>
      <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-06-04 Tue 18:07</span></span><br/>

<p>
Did not need it
<a href="file:///home/drewc/maxclaims/src/maxclaims/database/migrations.lisp#CREATE-FUNCTION-error_positive_outstanding_reserve-claim_transaction">CREATE FUNCTION error<sub>positive</sub><sub>outstanding</sub><sub>reserve</sub> (claim<sub>transaction</sub>)</a>
</p></li>
</ul>
<ul>
<li id="sec-2-1-1-2-4"><span class="done DONE"> DONE</span> Add rules for INSERT/UPDATE?DELETE that checks and errors.<br/>
       <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-06-04 Tue 18:07</span></span><br/>

<p>
 Rules did not work and are not for this really. sigh.
</p>
</li>
</ul>
<ul>
<li id="sec-2-1-1-2-5"><span class="done DONE"> DONE</span> Add Trigger<br/>
       <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-06-04 Tue 18:13</span></span><br/>
<ul>
<li id="sec-2-1-1-2-5-1"><span class="done DONE"> DONE</span> Add a function for the trigger<br/>
        <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-06-04 Tue 18:13</span></span><br/>
<a href="file:///home/drewc/maxclaims/src/maxclaims/database/migrations.lisp#CREATE-OR-REPLACE-RULE-positive_outstanding_reserve">~/maxclaims/src/maxclaims/database/migrations.lisp::"CREATE OR REPLACE RULE positive<sub>outstanding</sub><sub>reserve</sub></a>
</li>
</ul>
<ul>
<li id="sec-2-1-1-2-5-2"><span class="done DONE"> DONE</span> Add the trigger itself<br/>
        <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-06-04 Tue 18:13</span></span><br/>
<a href="file:///home/drewc/maxclaims/src/maxclaims/database/migrations.lisp#CREATE-TRIGGER-check_positive_outstanding_reserve_trigger">~/maxclaims/src/maxclaims/database/migrations.lisp::"CREATE TRIGGER check<sub>positive</sub><sub>outstanding</sub><sub>reserve</sub><sub>trigger</sub></a>


</li>
</ul>
</li>
</ul>
<ul>
<li id="sec-2-1-1-2-6"><span class="todo TODO"> TODO</span> commit the changes<br/>
</li>
</ul>
<ul>
<li id="sec-2-1-1-2-7"><span class="todo TODO"> TODO</span> test on the live server<br/>

</li>
</ul>
</li>
</ul>
</div>

</div>

<div id="outline-container-2-1-2" class="outline-4">
<h4 id="sec-2-1-2"><span class="section-number-4">2.1.2</span> <span class="todo TODO"> TODO</span> Claim Detail of loss must be there for setup</h4>
<div class="outline-text-4" id="text-2-1-2">

</div>

</div>

<div id="outline-container-2-1-3" class="outline-4">
<h4 id="sec-2-1-3"><span class="section-number-4">2.1.3</span> <span class="todo TODO"> TODO</span> more things for insured search results [0/2]</h4>
<div class="outline-text-4" id="text-2-1-3">

<ul>
<li><code>[&nbsp;]</code> The resuls should include the claims in inline-block
</li>
<li><code>[&nbsp;]</code> Also the insured view for person itself
</li>
</ul>

</div>

</div>

<div id="outline-container-2-1-4" class="outline-4">
<h4 id="sec-2-1-4"><span class="section-number-4">2.1.4</span> <span class="todo TODO"> TODO</span> administration button</h4>
<div class="outline-text-4" id="text-2-1-4">

</div>

</div>

<div id="outline-container-2-1-5" class="outline-4">
<h4 id="sec-2-1-5"><span class="section-number-4">2.1.5</span> <span class="todo TODO"> TODO</span> is there a “timezone” for the new system?  It’s just that the dates seem to show up differently.</h4>
<div class="outline-text-4" id="text-2-1-5">


<blockquote>

<p>If you look at claim 29066 on the old system and then on the new
system; on the old system is shows the last timecard entry on 04
February and on the new system it shows up as 03 February.
</p>
<p>
 &ndash; Trisha
</p>
</blockquote>


<p>
Ok, so looking at the database, it is stored locally as 
</p>



<pre class="src src-sql">date          | timestamp without time zone
</pre>


<p>
Because we know of that and we do not convert it at all &hellip; it is all
about what TZ it is set to in the first place. So testing. 
</p>
<p>
Ok, added a timecard to claim #1234, and it is funny, 2013-Feb-18 is
the date I entered (on the new app), and going to the old app it says
2013-Feb-19. So this is an issue. 
</p>
<p>
It seems that it is simply stored as a GMT value, and displayed so as
well. And, hmmm &hellip; it seems that the old app adds 7 to it regardless,
because it is a timestamp without time zone.
</p>
<p>
Ok, going to have to ask about it.
</p>
</div>

</div>

<div id="outline-container-2-1-6" class="outline-4">
<h4 id="sec-2-1-6"><span class="section-number-4">2.1.6</span> <span class="todo TODO"> TODO</span> check out read only can run reports</h4>
<div class="outline-text-4" id="text-2-1-6">

</div>

</div>

<div id="outline-container-2-1-7" class="outline-4">
<h4 id="sec-2-1-7"><span class="section-number-4">2.1.7</span> <span class="todo TODO"> TODO</span> For timestamps add GMT so user knows it is GMT</h4>
<div class="outline-text-4" id="text-2-1-7">

</div>

</div>

<div id="outline-container-2-1-8" class="outline-4">
<h4 id="sec-2-1-8"><span class="section-number-4">2.1.8</span> <span class="todo TODO"> TODO</span> change risk (create new)</h4>
<div class="outline-text-4" id="text-2-1-8">

</div>

</div>

<div id="outline-container-2-1-9" class="outline-4">
<h4 id="sec-2-1-9"><span class="section-number-4">2.1.9</span> <span class="todo TODO"> TODO</span> seems to log out a lot &hellip; could be a session thing?</h4>
<div class="outline-text-4" id="text-2-1-9">

</div>

</div>

<div id="outline-container-2-1-10" class="outline-4">
<h4 id="sec-2-1-10"><span class="section-number-4">2.1.10</span> <span class="todo TODO"> TODO</span> Sandy Bordereau fixes [2/4]</h4>
<div class="outline-text-4" id="text-2-1-10">


<ul>
<li><code>[X]</code> Open new page for bordereau
    &ndash; I made it open a new page for each report.
</li>
<li><code>[X]</code> The total Incurred does not take into account the deductible.
</li>
<li><code>[&nbsp;]</code> When I copy and paste the report onto a Excel Spreadsheet the columns are too narrow.
</li>
<li><code>[&nbsp;]</code> different bordereau for property and casualty
</li>
</ul>


<blockquote>

<p>From: Sandy Morrison [mailto:maxwellclaimscalgary@yahoo.ca] 
Sent: March 26, 2013 9:41 AM
To: Ian Maxwell
Subject: RE: Month end Bordereau
</p>
<p> 
I have a couple issues so far&hellip;I have attach one for you to see
</p>
<ol>
<li>When I create a contract bordereau report it does not open a new
   page, which means I end up losing the report when I go back to ECM
   to review specific claims&hellip;which is done constantly.

</li>
<li>The total Incurred does not take into account the deductible.
</li>
</ol>



<ol>
<li>I do see where there is a different bordereau for property and
    casualty.  There is one for "Contract Bordereau" and another that
    includes payee amount
</li>
</ol>


<p> 
Sandy
</p>



</blockquote>


</div>

</div>

<div id="outline-container-2-1-11" class="outline-4">
<h4 id="sec-2-1-11"><span class="section-number-4">2.1.11</span> <span class="todo TODO"> TODO</span> christian bordereau fixes [1/2]</h4>
<div class="outline-text-4" id="text-2-1-11">


<ul>
<li><code>[X]</code> create the agency bordereau itself
</li>
<li><code>[&nbsp;]</code> make agency bordereau csv output
</li>
</ul>


<blockquote>

<p>From: Christian Cameron [mailto:christian.cameron@aprilcanada.ca] 
Sent: March-14-13 4:10 PM
To: Ian Maxwell (max01@maxwellclaims.net); Trish Maxwell (trish@maxwellclaims.net)
Subject: Reports
</p>
<p> 
Hi Guys,
</p>
<p> 
Just looking to confirm the reports do seem to be different.
</p>
<p> 
Under the Company reports each Underwriter is listed as a company is this correct?
Do I have to select all to get the old type of extract?
</p>
<p> 
I have attached an example of the old report from the ECM
</p>
<p> 
Many thanks,
</p>
<p> 
Christian
</p>

</blockquote>


</div>

</div>

<div id="outline-container-2-1-12" class="outline-4">
<h4 id="sec-2-1-12"><span class="section-number-4">2.1.12</span> <span class="todo TODO"> TODO</span> It looks like the system could do with a quick check on searching&hellip;.</h4>
<div class="outline-text-4" id="text-2-1-12">


<blockquote>

<p>I was trying to find a file with policy number CMLW10148.  I got this
error:
</p>
<p> 
Results for cmlw10148 :
None
Search
Top of Form
Bottom of Form
</p>
<p> 
But when I eventually find the file, the policy is listed as
CMLW10148.  I’m not sure if the new system isn’t including policy
number in the search?  If I search for “CMLE” I should get about 50+
responses but there’s nothing.
</p>
</blockquote>



</div>

</div>

<div id="outline-container-2-1-13" class="outline-4">
<h4 id="sec-2-1-13"><span class="section-number-4">2.1.13</span> <span class="todo STARTED"> STARTED</span> Bordereau fixes</h4>
<div class="outline-text-4" id="text-2-1-13">

<ul>
<li><code>[&nbsp;]</code> add the claim code or details
<ul>
<li><code>[&nbsp;]</code> first add/edit
</li>
<li><code>[&nbsp;]</code> bordereau
</li>
</ul>

</li>
<li><code>[X]</code> add indenmity to Casaulty/Liability Claims Bordereau
</li>
<li><code>[X]</code> add total to the bottom of outstanding reserve
</li>
<li><code>[X]</code> "Paid This Period Total" Loss and Expense
</li>
<li><code>[&nbsp;]</code> read-only should be able to run reports.
</li>
</ul>




</div>
</div>

</div>

<div id="outline-container-2-2" class="outline-3">
<h3 id="sec-2-2"><span class="section-number-3">2.2</span> <span class="todo TODO"> TODO</span> Important [1/11]</h3>
<div class="outline-text-3" id="text-2-2">


</div>

<div id="outline-container-2-2-1" class="outline-4">
<h4 id="sec-2-2-1"><span class="section-number-4">2.2.1</span> <span class="todo TODO"> TODO</span> add it so admins can move timecards/attachements/transactions etc.</h4>
<div class="outline-text-4" id="text-2-2-1">

</div>

</div>

<div id="outline-container-2-2-2" class="outline-4">
<h4 id="sec-2-2-2"><span class="section-number-4">2.2.2</span> <span class="todo TODO"> TODO</span> break up the edit-attribute-block</h4>
<div class="outline-text-4" id="text-2-2-2">


</div>

</div>

<div id="outline-container-2-2-3" class="outline-4">
<h4 id="sec-2-2-3"><span class="section-number-4">2.2.3</span> <span class="todo TODO"> TODO</span> Can we make sure that if we're in a claim doing something and we click "submit" or "enter" or "delete" or whatever&hellip;.that we go back into the claim and not the homepage?</h4>
<div class="outline-text-4" id="text-2-2-3">

<blockquote>

<p>was in the claim, went into attachments, deleted one of the two&hellip;.and
instead of the system taking me back into the claim (where I was
before), I ended up at the home page.
</p>
<p>
Can we make sure that if we're in a claim doing something and we click
"submit" or "enter" or "delete" or whatever&hellip;.that we go back into
the claim and not the homepage? 
</p>
<p>
&ndash; Trisha
</p>
</blockquote>


</div>

</div>

<div id="outline-container-2-2-4" class="outline-4">
<h4 id="sec-2-2-4"><span class="section-number-4">2.2.4</span> <span class="todo TODO"> TODO</span> claim view heading province should be the word, not the ACronym.</h4>
<div class="outline-text-4" id="text-2-2-4">

</div>

</div>

<div id="outline-container-2-2-5" class="outline-4">
<h4 id="sec-2-2-5"><span class="section-number-4">2.2.5</span> <span class="todo TODO"> TODO</span> List all users so admin can get rid of a few</h4>
<div class="outline-text-4" id="text-2-2-5">

</div>

</div>

<div id="outline-container-2-2-6" class="outline-4">
<h4 id="sec-2-2-6"><span class="section-number-4">2.2.6</span> <span class="todo TODO"> TODO</span> Can our name have a different heading such as "Examiner" [0/1]</h4>
<div class="outline-text-4" id="text-2-2-6">


<blockquote>

<p>  When you press "Edit" my name comes up as the adjuster. 
There is a field for def counsel and coverage but not for an external
adjuster, which is likely what we would use the most. Can our name have a different heading such as "Examiner"
 &ndash; Ami 
</p>
</blockquote>


<ul>
<li id="sec-2-2-6-1"><span class="todo TODO"> TODO</span> add independant-adjuster to claim table<br/>
</li>
</ul>
</div>

</div>

<div id="outline-container-2-2-7" class="outline-4">
<h4 id="sec-2-2-7"><span class="section-number-4">2.2.7</span> <span class="todo TODO"> TODO</span> Add Messages</h4>
<div class="outline-text-4" id="text-2-2-7">

</div>

</div>

<div id="outline-container-2-2-8" class="outline-4">
<h4 id="sec-2-2-8"><span class="section-number-4">2.2.8</span> <span class="todo TODO"> TODO</span> no option - ever - to get negative reserves</h4>
<div class="outline-text-4" id="text-2-2-8">


<blockquote>

<p>Can we make sure that there is no option - ever - to get negative
reserves on the new system?  For some reason, Jean Michel is still
able to process payments which provide negative reserves
&ndash; Trisha
</p>
</blockquote>


</div>

</div>

<div id="outline-container-2-2-9" class="outline-4">
<h4 id="sec-2-2-9"><span class="section-number-4">2.2.9</span> <span class="todo TODO"> TODO</span> "over authority"/"Coverage revbiiew":  "yes" "no".</h4>
<div class="outline-text-4" id="text-2-2-9">


<blockquote>

<p>Also - can we have some tick boxes on the system?  One would be "over
authority" "yes" "no".  This should show up on the bdx so that we can
run a report and know exactly how many files are within authority and
how many are over authority.
</p>
<p>
The other would be "Coverage review" "yes" "no".  This does not need
to show up on the bdx.
</p>
<p>
Trisha Loscombe
</p>
</blockquote>


<ul>
<li id="sec-2-2-9-1"><span class="todo TODO"> TODO</span> coverage review is a boolean on claim [0/3]<br/>
<ul>
<li><code>[&nbsp;]</code> add the boolean
</li>
<li><code>[&nbsp;]</code> on the claim file
</li>
<li><code>[&nbsp;]</code> adjusters should have an 'open claim needs coverage review"
        on the homepage, so they know.
</li>
</ul>


</li>
</ul>
<ul>
<li id="sec-2-2-9-2"><span class="todo TODO"> TODO</span> ober authority is a boolean on claim [0/2]<br/>
<ul>
<li><code>[&nbsp;]</code> add the boolean
</li>
<li><code>[&nbsp;]</code> on the bdx
</li>
</ul>



</li>
</ul>
</div>

</div>

<div id="outline-container-2-2-10" class="outline-4">
<h4 id="sec-2-2-10"><span class="section-number-4">2.2.10</span> <span class="todo TODO"> TODO</span> Sandy Morrison wants/needs [0/3]</h4>
<div class="outline-text-4" id="text-2-2-10">


<ul>
<li id="sec-2-2-10-1"><span class="todo TODO"> TODO</span> REPORTS [0/3]<br/>

<ul>
<li id="sec-2-2-10-1-1"><span class="todo TODO"> TODO</span> CONTRACT BORDEREAU [1/4]<br/>

<ul>
<li><code>[&nbsp;]</code> Does not open a new separate page.
</li>
<li><code>[X]</code> Do not need the payee amount&hellip;make the report very long
</li>
<li><code>[&nbsp;]</code> Do we need Branch, Underwriter, and Broker on this report?
</li>
<li><code>[&nbsp;]</code> Can we separate Habitational, Commercial, Automobile, etc. 
   &hellip; on the same contract as it is on the old system?
</li>
</ul>


</li>
</ul>
<ul>
<li id="sec-2-2-10-1-2"><span class="todo TODO"> TODO</span> Bordereau HEADINGS<br/>
Need to review the information that is needed and have it in a order
that it easy to follow.  ie Loss information - Loss Payments, Paid to
Date, Reserve changes, Outstanding Reserves Fee information - Fee
payments, Paid to Date, Reserve changes, Outstanding Reserves
Deductible Recovered MCS (TPA Fees) Total Incurred Etc.

</li>
</ul>
<ul>
<li id="sec-2-2-10-1-3"><span class="todo TODO"> TODO</span> CHEQUE REGISTER FOR COMPANY<br/>

<p> 
For the most part looks good.  Should fit on the page better.  ie
April Canada register the "Cheque Date" at the end is cut off.
</p>
</li>
</ul>
</li>
</ul>
<ul>
<li id="sec-2-2-10-2"><span class="todo TODO"> TODO</span> Answer the email<br/>
<blockquote>

<p>I have only been working this for a couple days!!  I do like the general layout!
</p>
<p> 
ON THE CLAIM PAGE
</p>
<p> 
Would like to see the Province for the insured.  Very helpful for Ontario claims!
</p>
<p> 
CREATING NEW TRANSACTION
For the most part it works well, but will generate negative amounts.
</p>
<p> 
Once the information is enter the screen goes to a page where you have to "Edit using these values" or "Go back to the editor" &hellip;at this stage there a number of fields that show up blank, such as "Amount Shown", "Cheque Number Shown", "Reference Number".   Without this showing it defeats the purpose of entering it if you can't confirm the information.
</p>
<p> 
I am unable to edit transactions.
</p>
<p> 
Would like to see the calendar automatically come up with the current date.  If you tab past it it will go to either December or January.
</p>
<p> 
NEW CLAIMS
</p>
<p> 
Hoping this is still a work in progress!!  Start with creating a New
Policy..Agent, Underwriter, Insurance Company,, etc&hellip;comes up with
way too many items to scroll through and no place to narrow it down,
for example so place to enter "Excess" for the company.
</p>
<p> 
That is just the beginning!!
</p>
<p> 
REPORTS
CONTRACT BORDEREAU
Does not open a new separate page.
Do not need the payee amount&hellip;make the report very long
Do we need Branch, Underwriter, and Broker on this report?
</p>
<p> 
Can we separate Habitational, Commercial, Automobile, etc. on the same contract as it is on the old system?
</p>
<p> 
HEADINGS
Need to review the information that is needed and have it in a order that it easy to follow.
ie
Loss information - Loss Payments, Paid to Date, Reserve changes, Outstanding Reserves
Fee information - Fee payments, Paid to Date, Reserve changes, Outstanding Reserves
Deductible Recovered
MCS (TPA Fees)
Total Incurred
Etc.
</p>
<p> 
CHEQUE REGISTER FOR COMPANY
</p>
<p> 
For the most part looks good.  Should fit on the page better.  ie April Canada register the "Cheque Date" at the end is cut off.
</p>
<p> 
This is just what I have noted and I am aware this is a work in progress for all.  I can see the potential :) !!
</p>
<p> 
Please feel free to call if this doesn't make sense.
Sandy
</p>
</blockquote>


</li>
</ul>
</div>
</div>

</div>

<div id="outline-container-2-3" class="outline-3">
<h3 id="sec-2-3"><span class="section-number-3">2.3</span> <span class="todo TODO"> TODO</span> Bugs / Fixes [3/5]</h3>
<div class="outline-text-3" id="text-2-3">


</div>

<div id="outline-container-2-3-1" class="outline-4">
<h4 id="sec-2-3-1"><span class="section-number-4">2.3.1</span> <span class="todo TODO"> TODO</span> When view/edit button of transaction, go back to claim.</h4>
<div class="outline-text-4" id="text-2-3-1">

</div>

</div>

<div id="outline-container-2-3-2" class="outline-4">
<h4 id="sec-2-3-2"><span class="section-number-4">2.3.2</span> <span class="todo TODO"> TODO</span> add / spread out the bordereau name person</h4>
<div class="outline-text-4" id="text-2-3-2">

</div>

</div>

<div id="outline-container-2-3-3" class="outline-4">
<h4 id="sec-2-3-3"><span class="section-number-4">2.3.3</span> <span class="todo TODO"> TODO</span> I'm unable to delete attachments on the old system.</h4>
<div class="outline-text-4" id="text-2-3-3">

<blockquote>

<p>I'm unable to delete attachments on the old system.  I get to the
"Really Delete; yes no" section, click on yes and get this error; An
internal server error has occured.  error
opening #P"/home/maxclaims/attachments/28925/c67f464cb98dd57a15d31c50f0d0e65c7b4d993b<sub>RE</sub>
Johnny Jukebox Claim # 29411 Claim #8700279 and
Claim #T03210-2013-1.msg": No such file or directory
</p>
<p>
&ndash; Trisha
</p>
</blockquote>


</div>

</div>

<div id="outline-container-2-3-4" class="outline-4">
<h4 id="sec-2-3-4"><span class="section-number-4">2.3.4</span> <span class="todo TODO"> TODO</span> Person needs "Contracts as Agency"</h4>
<div class="outline-text-4" id="text-2-3-4">

</div>

</div>

<div id="outline-container-2-3-5" class="outline-4">
<h4 id="sec-2-3-5"><span class="section-number-4">2.3.5</span> <span class="todo TODO"> TODO</span> create Claim Timecard : claim id is listed twice</h4>
<div class="outline-text-4" id="text-2-3-5">

<p> Claim Id 29066 [29066    ]
</p>
<p>
I know why this happens, but it should not so must look into it more.
</p>
</div>
</div>

</div>

<div id="outline-container-2-4" class="outline-3">
<h3 id="sec-2-4"><span class="section-number-3">2.4</span> <span class="todo TODO"> TODO</span> Other [1/5]</h3>
<div class="outline-text-3" id="text-2-4">


</div>

<div id="outline-container-2-4-1" class="outline-4">
<h4 id="sec-2-4-1"><span class="section-number-4">2.4.1</span> <span class="todo TODO"> TODO</span> Can you provide a total for the amount of hours spent on the file on the Timecards tab?</h4>
<div class="outline-text-4" id="text-2-4-1">



</div>

</div>

<div id="outline-container-2-4-2" class="outline-4">
<h4 id="sec-2-4-2"><span class="section-number-4">2.4.2</span> <span class="todo TODO"> TODO</span> Is there a log out button?</h4>
<div class="outline-text-4" id="text-2-4-2">


</div>

</div>

<div id="outline-container-2-4-3" class="outline-4">
<h4 id="sec-2-4-3"><span class="section-number-4">2.4.3</span> <span class="todo TODO"> TODO</span> Very confusing option when u try to upload a doc or do a timecard.</h4>
<div class="outline-text-4" id="text-2-4-3">

<p>    The options are "edit using these values" or "go back" or
    Cancel". Maybe they can be worded differently?
</p>
</div>

</div>

<div id="outline-container-2-4-4" class="outline-4">
<h4 id="sec-2-4-4"><span class="section-number-4">2.4.4</span> <span class="done DONE"> DONE</span> odd error for deductible</h4>
<div class="outline-text-4" id="text-2-4-4">

<p>     <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-02-19 Tue 11:23</span></span><br/>
</p>
<p>
Ah, turns out it was a database pg<sub>restore</sub> error.
</p><blockquote>

<p>Deductible
</p>
<p>
CLAIM-DEDUCTIBLE-TOTALS Error: Database error 21000: more
than one row returned by a subquery used as an expression Query:
(SELECT (SELECT deductible FROM claim WHERE (claim<sub>id</sub> = 1234)),
claim<sub>recovered</sub><sub>deductible</sub>(1234), claim<sub>deductible</sub>(1234))
</p>
</blockquote>


</div>
</div>
</div>

</div>

<div id="outline-container-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Tasks that are Done [33/33]</h2>
<div class="outline-text-2" id="text-3">


</div>

<div id="outline-container-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> <span class="done DONE"> DONE</span> calendar automatically come up with the current date.</h3>
<div class="outline-text-3" id="text-3-1">

<p>      <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-11 Mon 00:09</span></span><br/>
</p><blockquote>

<p>Would like to see the calendar automatically come up with the current
date.  If you tab past it it will go to either December or January.
</p>
</blockquote>



<p>
Now it does not show up with anything
</p>
</div>

</div>

<div id="outline-container-3-2" class="outline-3">
<h3 id="sec-3-2"><span class="section-number-3">3.2</span> <span class="done DONE"> DONE</span> cheque register by contract</h3>
<div class="outline-text-3" id="text-3-2">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-05-03 Fri 12:39</span></span><br/>
</p></div>

</div>

<div id="outline-container-3-3" class="outline-3">
<h3 id="sec-3-3"><span class="section-number-3">3.3</span> <span class="done DONE"> DONE</span> when there is noly 1 search result , go to that view</h3>
<div class="outline-text-3" id="text-3-3">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-05-03 Fri 12:38</span></span>  <span class="timestamp-wrapper"><span class="timestamp-kwd">SCHEDULED: </span> <span class="timestamp">2013-03-18 Mon</span></span><br/>
</p></div>

</div>

<div id="outline-container-3-4" class="outline-3">
<h3 id="sec-3-4"><span class="section-number-3">3.4</span> <span class="done DONE"> DONE</span> moved from claim 29061 to claim 29580</h3>
<div class="outline-text-3" id="text-3-4">

<p>     <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-04-19 Fri 14:30</span></span><br/>
</p>
<blockquote>

<p>Could you kindly arrange to have the timecard and attachments moved
from claim 29016 to claim 29580?
 &ndash; Cory Feng
</p>
</blockquote>





<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">maxclaims@maxwell-claims:~/attachments$ pwd</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">/home/maxclaims/attachments</span>

<span style="color: #483d8b;">cd</span> /home/maxclaims/attachments

<span style="color: #a0522d;">orig_id</span>=29016
<span style="color: #a0522d;">dest_id</span>=29580

mkdir $<span style="color: #a0522d;">dest_id</span>
mv /home/maxclaims/attachments/${<span style="color: #a0522d;">orig_id</span>}/* /home/maxclaims/attachments/${<span style="color: #a0522d;">dest_id</span>}/
</pre>



<pre class="src src-sql">\set orig_id 29016
\set dest_id 29580

UPDATE attachment SET claim_id = :dest_id where claim_id = :orig_id;
UPDATE timecard SET claim_id = :dest_id where claim_id = :orig_id;

</pre>

</div>

</div>

<div id="outline-container-3-5" class="outline-3">
<h3 id="sec-3-5"><span class="section-number-3">3.5</span> <span class="done DONE"> DONE</span> Diary Entries [3/3]</h3>
<div class="outline-text-3" id="text-3-5">

<p>     <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-05-03 Fri 12:37</span></span><br/>
</p><ul>
<li><code>[X]</code> Overdue Diary entries on login




<pre class="src src-sql">   maxclaims01=# \d diary_entry;
                                   Table "public.diary_entry"
     Column     |  Type   |                              Modifiers                               
<span style="color: #b22222;">----------------+---------+----------------------------------------------------------------------</span>
 diary_entry_id | integer | not null default nextval(<span style="color: #8b2252;">'diary_entry_diary_entry_id_seq'</span>::regclass)
 app_user_id    | integer | not null
 claim_id       | integer | not null
 action_date    | date    | not null
 processed      | boolean | not null default false
 note           | text    | not null

maxclaims01=# \d defer_diary_entry
                                         Table "public.defer_diary_entry"
        Column        |  Type   |                                    Modifiers                                     
<span style="color: #b22222;">----------------------+---------+----------------------------------------------------------------------------------</span>
 defer_diary_entry_id | integer | not null default nextval(<span style="color: #8b2252;">'defer_diary_entry_defer_diary_entry_id_seq'</span>::regclass)
 diary_entry_id       | integer | 
 defer_date           | date    | not null

</pre>


</li>
<li><code>[X]</code> diary popup.
</li>
<li><code>[X]</code> browse diary 
<blockquote>

<p>This should probably be a '/view?' like the reports for the diary
itself so that it can be like any other object.
</p>
</blockquote>


</li>
</ul>


</div>

</div>

<div id="outline-container-3-6" class="outline-3">
<h3 id="sec-3-6"><span class="section-number-3">3.6</span> <span class="done DONE"> DONE</span> total paid net + outstanding reserve = incurred</h3>
<div class="outline-text-3" id="text-3-6">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-28 Thu 03:36</span></span><br/>
</p></div>

</div>

<div id="outline-container-3-7" class="outline-3">
<h3 id="sec-3-7"><span class="section-number-3">3.7</span> <span class="done DONE"> DONE</span> report start date should be 1st of this month, end date should be (:now)</h3>
<div class="outline-text-3" id="text-3-7">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-28 Thu 03:36</span></span><br/>
</p></div>

</div>

<div id="outline-container-3-8" class="outline-3">
<h3 id="sec-3-8"><span class="section-number-3">3.8</span> <span class="done DONE"> DONE</span> Timezone for all times [5/5]</h3>
<div class="outline-text-3" id="text-3-8">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-05-03 Fri 12:40</span></span><br/>
</p>
</div>

<div id="outline-container-3-8-1" class="outline-4">
<h4 id="sec-3-8-1"><span class="section-number-4">3.8.1</span> <span class="done DONE"> DONE</span> Claim Date of Loss [3/3]</h4>
<div class="outline-text-4" id="text-3-8-1">

<p>     <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-10 Sun 23:36</span></span><br/>
</p><ul>
<li id="sec-3-8-1-1"><span class="done DONE"> DONE</span> adding should have date only<br/>
      <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-10 Sun 23:19</span></span><br/>
</li>
</ul>
<ul>
<li id="sec-3-8-1-2"><span class="done DONE"> DONE</span> Timezone Itself<br/>
      <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-10 Sun 18:22</span></span><br/>
So again, the lack of timezones is an issue. For DoL, this can be an
issue. It seems that now, the timestamp for the DOL is displaying with
a PST zone?

<p>
Ah! I figured it out. :timezone local-time:+utc-zone+ in
<a href="file:///home/drewc/maxclaims/src/maxclaims/src/ecm-description.lisp#defun-print-date-to-string-timestamp">ecm-description</a>. 
</p>
</li>
</ul>
<ul>
<li id="sec-3-8-1-3"><span class="done DONE"> DONE</span> Show the date only.<br/>
      <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-10 Sun 19:02</span></span><br/>

<p>
:layers :date in <a href="file:///home/drewc/maxclaims/src/maxclaims/src/ecm-description/claim.lisp#layers-date">claim.lisp</a>
</p>
</li>
</ul>
</div>

</div>

<div id="outline-container-3-8-2" class="outline-4">
<h4 id="sec-3-8-2"><span class="section-number-4">3.8.2</span> <span class="done DONE"> DONE</span> Adding Policy should have date only</h4>
<div class="outline-text-4" id="text-3-8-2">

<p>     <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-10 Sun 23:04</span></span><br/>
</p></div>

</div>

<div id="outline-container-3-8-3" class="outline-4">
<h4 id="sec-3-8-3"><span class="section-number-4">3.8.3</span> <span class="done DONE"> DONE</span> Adding Contract should have date only</h4>
<div class="outline-text-4" id="text-3-8-3">

<p>     <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-05-03 Fri 12:35</span></span><br/>
</p></div>

</div>

<div id="outline-container-3-8-4" class="outline-4">
<h4 id="sec-3-8-4"><span class="section-number-4">3.8.4</span> <span class="done DONE"> DONE</span> timezone for timecards</h4>
<div class="outline-text-4" id="text-3-8-4">

<p>     <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-05-03 Fri 12:35</span></span><br/>
</p>
<blockquote>

<p>So, a minor issue has arised. When I look at the timecards, it seems
that the date is stored as a timestamp in UTC/GMT. But, the <span style="text-decoration:underline;">old</span>
application 'correct' this when displaying it, so adds 7 hours to the
number before displaying it. The same is true for the interim.
</p>
<p>
What this means is that things look kind of 'odd'. I am wondering if
this is a real problem, or if it can simply wait until we switch?
</p>
<p>
I can change it all to dates, so no timezone is needed, and it should
not be an issue after that. Is that ok?
</p>
</blockquote>


<p>
    a
</p></div>

</div>

<div id="outline-container-3-8-5" class="outline-4">
<h4 id="sec-3-8-5"><span class="section-number-4">3.8.5</span> <span class="done DONE"> DONE</span> is there a “timezone” for the new system?  It’s just that the dates seem to show up differently.</h4>
<div class="outline-text-4" id="text-3-8-5">

<p>     <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-05-03 Fri 12:40</span></span><br/>
</p>
<blockquote>

<p>If you look at claim 29066 on the old system and then on the new
system; on the old system is shows the last timecard entry on 04
February and on the new system it shows up as 03 February.
</p>
<p>
 &ndash; Trisha
</p>
</blockquote>


<p>
Ok, so looking at the database, it is stored locally as 
</p>



<pre class="src src-sql">date          | timestamp without time zone
</pre>


<p>
Because we know of that and we do not convert it at all &hellip; it is all
about what TZ it is set to in the first place. So testing. 
</p>
<p>
Ok, added a timecard to claim #1234, and it is funny, 2013-Feb-18 is
the date I entered (on the new app), and going to the old app it says
2013-Feb-19. So this is an issue. 
</p>
<p>
It seems that it is simply stored as a GMT value, and displayed so as
well. And, hmmm &hellip; it seems that the old app adds 7 to it regardless,
because it is a timestamp without time zone.
</p>
<p>
Ok, going to have to ask about it.
</p>


</div>
</div>

</div>

<div id="outline-container-3-9" class="outline-3">
<h3 id="sec-3-9"><span class="section-number-3">3.9</span> <span class="done DONE"> DONE</span> no CREATE-HEADING found for DEFER-DIARY-ENTRY</h3>
<div class="outline-text-3" id="text-3-9">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-19 Tue 02:08</span></span><br/>
</p></div>

</div>

<div id="outline-container-3-10" class="outline-3">
<h3 id="sec-3-10"><span class="section-number-3">3.10</span> <span class="done DONE"> DONE</span> Download timecards between interims (and all )</h3>
<div class="outline-text-3" id="text-3-10">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-18 Mon 14:13</span></span><br/>
   HTML download : put it where interim should have view/delete 
   "Download"
</p></div>

</div>

<div id="outline-container-3-11" class="outline-3">
<h3 id="sec-3-11"><span class="section-number-3">3.11</span> <span class="done DONE"> DONE</span> Error : #&lt;STANDARD-GENERIC-FUNCTION USER-CONTRACTS (1)&gt;</h3>
<div class="outline-text-3" id="text-3-11">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-26 Tue 18:19</span></span><br/>
</p>
<p>
   There is no applicable method for the generic function
   #&lt;STANDARD-GENERIC-FUNCTION USER-CONTRACTS (1)&gt;
   when called with arguments
   (NIL).
</p>
<p>   
   Second time this has happened&hellip;..I’ve searched for something and
   got this error message.  After pressing the back button and then
   “ECM” button, I get logged out.  Instead of an error, is it
   possible to get a time-out message so that we know that’s the
   problem?
</p></div>

</div>

<div id="outline-container-3-12" class="outline-3">
<h3 id="sec-3-12"><span class="section-number-3">3.12</span> <span class="done DONE"> DONE</span> I can’t figure out how to complete a diary. </h3>
<div class="outline-text-3" id="text-3-12">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-26 Tue 18:19</span></span><br/>
</p>
<p>
   On the old system we had “mark as done” but now we just have view
   and delete.  I’ve tried ‘view’ twice but it just takes me back to
   the home page&hellip;.ideas?
</p></div>

</div>

<div id="outline-container-3-13" class="outline-3">
<h3 id="sec-3-13"><span class="section-number-3">3.13</span> <span class="done DONE"> DONE</span> checkbox needs work &hellip;</h3>
<div class="outline-text-3" id="text-3-13">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-18 Mon 14:13</span></span><br/>
</p></div>

</div>

<div id="outline-container-3-14" class="outline-3">
<h3 id="sec-3-14"><span class="section-number-3">3.14</span> <span class="done DONE"> DONE</span> Do we have a capacity issue with downloading?</h3>
<div class="outline-text-3" id="text-3-14">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-18 Mon 14:13</span></span><br/>
</p>
<p>
   I am trying to download a contract Garry sent me on a file and it
   is not allowing it?
</p></div>

</div>

<div id="outline-container-3-15" class="outline-3">
<h3 id="sec-3-15"><span class="section-number-3">3.15</span> <span class="done DONE"> DONE</span> Can we do something to make the interim a bit more obvious?</h3>
<div class="outline-text-3" id="text-3-15">

<p>     <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-18 Mon 14:12</span></span><br/>
</p>
<blockquote>

<p>I can’t see the ‘download’ button for when we want to save/print the
timecards either.
</p>
<p> 
Ideally we would have something in place so that when we interim bill,
a new timecard starts up with a separate ‘download’ button.  The
problem being that if we download the timecards – it will include
those which we have already billed for.
 &ndash; Trisha 
</p>
</blockquote>


<ul>
<li><code>[X]</code> make a <i>ecm/timecard</i> entry point
</li>
</ul>




</div>

</div>

<div id="outline-container-3-16" class="outline-3">
<h3 id="sec-3-16"><span class="section-number-3">3.16</span> <span class="done DONE"> DONE</span> When I try to put in a diary event the default date is December 31st 1899 as opposed to today’s date</h3>
<div class="outline-text-3" id="text-3-16">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-12 Tue 05:24</span></span><br/>
</p></div>

</div>

<div id="outline-container-3-17" class="outline-3">
<h3 id="sec-3-17"><span class="section-number-3">3.17</span> <span class="done DONE"> DONE</span> Max attachment upload</h3>
<div class="outline-text-3" id="text-3-17">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-12 Tue 05:25</span></span><br/>
</p>
<p>
   I have set the max upload of attachments to 1024 MB, or 1 GB, or
   enough to fit 1/4 of a DVD &hellip; trying it out now, at 53% of a
   large file and works so far.
</p>
</div>

</div>

<div id="outline-container-3-18" class="outline-3">
<h3 id="sec-3-18"><span class="section-number-3">3.18</span> <span class="done DONE"> DONE</span> <a href="http://localhost:8181/ecm/search">http://localhost:8181/ecm/search</a> errors if not logged in.</h3>
<div class="outline-text-3" id="text-3-18">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-11 Mon 18:28</span></span><br/>
</p></div>

</div>

<div id="outline-container-3-19" class="outline-3">
<h3 id="sec-3-19"><span class="section-number-3">3.19</span> <span class="done DONE"> DONE</span> Diary date- to set a new one the system starts in 1899. Impossible to move to 2013 on every file.</h3>
<div class="outline-text-3" id="text-3-19">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-12 Tue 05:21</span></span><br/>
</p></div>

</div>

<div id="outline-container-3-20" class="outline-3">
<h3 id="sec-3-20"><span class="section-number-3">3.20</span> <span class="done DONE"> DONE</span> Attachments no longer DL'ing</h3>
<div class="outline-text-3" id="text-3-20">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-11 Mon 04:05</span></span><br/>
   The variable \+LINUX-PATH-MAX\+ is unbound.
</p>
</div>

</div>

<div id="outline-container-3-21" class="outline-3">
<h3 id="sec-3-21"><span class="section-number-3">3.21</span> <span class="done DONE"> DONE</span> "Go back to the editor" &hellip;at this stage there a number of fields that show up blank</h3>
<div class="outline-text-3" id="text-3-21">

<p>      <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-11 Mon 00:08</span></span><br/>
</p>
<p> 
Once the information is enter the screen goes to a page where you have
to "Edit using these values" or "Go back to the editor" 
</p>
<p>
&hellip;at this stage there a number of fields that show up blank, such as
"Amount Shown", "Cheque Number Shown", "Reference Number".  Without
this showing it defeats the purpose of entering it if you can't
confirm the information.
</p>
</div>

</div>

<div id="outline-container-3-22" class="outline-3">
<h3 id="sec-3-22"><span class="section-number-3">3.22</span> <span class="done DONE"> DONE</span> NEW CLAIMS fixing</h3>
<div class="outline-text-3" id="text-3-22">

<p>      <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-11 Mon 00:06</span></span><br/>
</p><blockquote>

<p>Hoping this is still a work in progress!!  Start with creating a New
Policy..Agent, Underwriter, Insurance Company,, etc&hellip;comes up with
way too many items to scroll through and no place to narrow it down,
for example so place to enter "Excess" for the company.
</p>
</blockquote>


<p>
Ok, so want to be able to search and not select for policy, so done.
</p>



</div>

</div>

<div id="outline-container-3-23" class="outline-3">
<h3 id="sec-3-23"><span class="section-number-3">3.23</span> <span class="done DONE"> DONE</span> "I am unable to edit transactions."</h3>
<div class="outline-text-3" id="text-3-23">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-10 Sun 23:53</span></span><br/>
</p>
<ul>
<li><code>[X]</code> log in as sandy 
</li>
<li><code>[X]</code> seem to be able to edit no problem
</li>
</ul>


</div>

</div>

<div id="outline-container-3-24" class="outline-3">
<h3 id="sec-3-24"><span class="section-number-3">3.24</span> <span class="done DONE"> DONE</span> Would like to see the Province for the insured.  Very helpful for Ontario claims! [2/2]</h3>
<div class="outline-text-3" id="text-3-24">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-02-19 Tue 12:51</span></span><br/>
   ON THE CLAIM PAGE
   Would like to see the Province for the insured.  Very helpful for Ontario claims!
</p>
<ul>
<li><code>[X]</code> change it in <a href="file:///home/drewc/maxclaims/src/maxclaims-wip/src/ecm-description/claim.lisp#defpackage-maxclaims-ecm-description-claim-use">ecm-description/claim.lisp</a>
</li>
<li><code>[X]</code> <a href="file:///home/drewc/maxclaims/src/maxclaims/src/ecm-description/person.lisp#claim-heading">:claim-heading layer in person.lisp</a>
</li>
</ul>


</div>

</div>

<div id="outline-container-3-25" class="outline-3">
<h3 id="sec-3-25"><span class="section-number-3">3.25</span> <span class="done DONE"> DONE</span> What goes on with the dates for timecards and interims?</h3>
<div class="outline-text-3" id="text-3-25">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-11 Mon 00:03</span></span><br/>
</p>
<p>   
   Figured it out! 
</p><ul>
<li><code>[X]</code> when adding one, the date is set to now
       But displaying, it is in the past.
</li>
</ul>

<blockquote>

<p>Do that and something might happen.
</p>
</blockquote>


</div>

</div>

<div id="outline-container-3-26" class="outline-3">
<h3 id="sec-3-26"><span class="section-number-3">3.26</span> <span class="done DONE"> DONE</span> Is there a home button? When I click ECM, top left, it logs me aout.</h3>
<div class="outline-text-3" id="text-3-26">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-11 Mon 00:02</span></span><br/>
   That is because your session has expired. It does not log you out,
   you are logged out
</p></div>

</div>

<div id="outline-container-3-27" class="outline-3">
<h3 id="sec-3-27"><span class="section-number-3">3.27</span> <span class="done DONE"> DONE</span> Contract agency and syndicate should be like the policy</h3>
<div class="outline-text-3" id="text-3-27">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-11 Mon 00:00</span></span><br/>
</p>
<p>
   right now it is a text search, but should be a list
</p>
<p>
   hrm .. sandy says something different, and it is not liked as it
   is&hellip; ok, so, we have the policy be like the contract then.
</p>


</div>

</div>

<div id="outline-container-3-28" class="outline-3">
<h3 id="sec-3-28"><span class="section-number-3">3.28</span> <span class="done DONE"> DONE</span> there is no option to create a new one without going out [0/0]</h3>
<div class="outline-text-3" id="text-3-28">

<p>     <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-10 Sun 23:28</span></span><br/>
</p>
<blockquote>

<p>When entering the payee, if the payee is not already in the system
there is no option to create a new one without going out of the claim
to the main page, creating the payee and then going back to the claim
and then entering the payment with the payee.
</p>
</blockquote>


<p>
Ok, so this is well known, and can be done without continuations, so
will be?!
</p>
<p>
<a href="create.lisp#when-back-create">Ok, so added the create new for creating &hellip;</a>
</p>
<p>
So, now the edit handler must know about the previous thing and do it
accordingly&hellip;
</p>

</div>

<div id="outline-container-3-28-1" class="outline-4">
<h4 id="sec-3-28-1"><span class="section-number-4">3.28.1</span> How it works (now)</h4>
<div class="outline-text-4" id="text-3-28-1">


<ul>
<li>create Claim Transaction

<p>    
    this has a Payee that may need to be added 
</p>
</li>
<li>Click on Payee [change]




<pre class="src src-html">&lt;<span style="color: #0000ff;">input</span> <span style="color: #a0522d;">class</span>=<span style="color: #8b2252;">"btn btn-mini"</span> 
       <span style="color: #a0522d;">name</span>=<span style="color: #8b2252;">"type[PAYEE]"</span> <span style="color: #a0522d;">type</span>=<span style="color: #8b2252;">"submit"</span> <span style="color: #a0522d;">value</span>=<span style="color: #8b2252;">"change"</span>&gt;

</pre>


<p>
   so this submits the form with type[PAYEE] 
</p>
<p>
     <a href="file:///home/drewc/maxclaims/src/maxclaims/src/web-display/edit.lisp#value-change">in the edit.lisp button</a> in the large edit-attribute-block.
</p>
<p>
     <a href="#sec-2-2-2">TODO break up the edit-attribute-block</a>   
</p>
<p>
     and that submits it to the page 
     <a href="#file-maxclaims-src-maxclaims-src-web-display-edit.lisp-form"> file:~/maxclaims/src/maxclaims/src/web-display/edit.lisp::(&lt;:form</a>
</p>
<p>
     we store that as type-change 
     <a href="create.lisp#type-change-http-parameters-as-alist-type">create.lisp::(type-change (http-parameters-as-alist "type"))</a>
</p>
<p>
   so this create a button "create-new[~A]" which sumbits the form 
</p>



<pre class="src src-html">&lt;<span style="color: #0000ff;">button</span> <span style="color: #a0522d;">class</span>=<span style="color: #8b2252;">"btn btn-warning"</span> 
 <span style="color: #a0522d;">name</span>=<span style="color: #8b2252;">"create-new[PAYEE]"</span> 
 <span style="color: #a0522d;">type</span>=<span style="color: #8b2252;">"submit"</span>&gt;Create New&lt;/<span style="color: #0000ff;">button</span>&gt;   
</pre>


<p>   
   <a href="create.lisp#create-new-http-parameters-as-alist-create-new">create.lisp::(create-new (http-parameters-as-alist "create-new"))</a>
     <a href="create.lisp#when-back-create">create.lisp::(when back[create</a>]
</p>


<pre class="src src-lisp">(<span style="color: #a020f0;">let*</span> (... (back[create] 
         (<span style="color: #a020f0;">when</span> create-new 
            (http-parameters-as-alist)))))

             (<span style="color: #a020f0;">return-from</span> create-page-handler
               (edit-page-handler 
                (<span style="color: #a020f0;">with-app-user</span> ()
                  (apply #'make-instance 
                         (intern create-name
                                 <span style="color: #483d8b;">:maxclaims/ecm-description</span>)
                         nil)) 
                <span style="color: #483d8b;">:back</span> back
                <span style="color: #483d8b;">:back-create</span> (cons create-name
                                   back[create])
                <span style="color: #483d8b;">:file-attributes</span> nil 
                <span style="color: #483d8b;">:changed</span> nil
                <span style="color: #483d8b;">:create-key</span> nil 
                <span style="color: #483d8b;">:access-type</span> nil
                <span style="color: #483d8b;">:access-id</span> nil ))
</pre>

</li>
</ul>




<ul>
<li><code>[X]</code> sigh, 50 hours later, and we simply need the 'proper' url so
    that "Submit Create" goes to the right spot.
</li>
<li><code>[X]</code> and many many days later, it seems to work
</li>
</ul>








</div>
</div>

</div>

<div id="outline-container-3-29" class="outline-3">
<h3 id="sec-3-29"><span class="section-number-3">3.29</span> <span class="done DONE"> DONE</span> Add [logout] to navbar</h3>
<div class="outline-text-3" id="text-3-29">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-10 Sun 21:54</span></span><br/>
</p></div>

</div>

<div id="outline-container-3-30" class="outline-3">
<h3 id="sec-3-30"><span class="section-number-3">3.30</span> <span class="done DONE"> DONE</span> view claim has deductible errors</h3>
<div class="outline-text-3" id="text-3-30">

<p>     <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-10 Sun 23:18</span></span><br/>
</p>
<p>
Deductible CLAIM-DEDUCTIBLE-TOTALS Error: The function MAXCLAIMS::CLAIM-DEDUCTIBLE-TOTALS is undefined.
Reserve and Paid CLAIM-RESERVE-INFORMATION Error: The function MAXCLAIMS::CLAIM-INFO-BY-HEADING is undefined.
</p>
</div>

</div>

<div id="outline-container-3-31" class="outline-3">
<h3 id="sec-3-31"><span class="section-number-3">3.31</span> <span class="done DONE"> DONE</span> Where to add the recovered deductible field? [1/1]</h3>
<div class="outline-text-3" id="text-3-31">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-10 Sun 23:30</span></span><br/>
</p>
<p>
 "And separately, we want to show that we've collected the
 deductible."
</p>
<p>
 that is the final thing that needs done for <a href="#deductibles-to-NOT-be-linked-into-transactions-5-6">deductibles to NOT be linked into transactions {5/6}</a>. The question is where do we want it.
</p>
<p>
 it seems it is there already! yay.
</p>

</div>

<div id="outline-container-3-31-1" class="outline-4">
<h4 id="sec-3-31-1"><span class="section-number-4">3.31.1</span> <span class="done DONE"> DONE</span> deductibles to NOT be linked into transactions [6/6]</h4>
<div class="outline-text-4" id="text-3-31-1">

<p>     <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-10 Sun 23:29</span></span><br/>
</p>
<blockquote>

<p>A rather important request for the new system&hellip;&hellip;I'd like for
deductibles to NOT be linked into transactions.  I'd like them to have
their own heading or their own tab.  We do need to record when we
collect deductibles.  
</p>
<p>
Because the deductibles are linked to
transactions - we could pay $5,000 to an insured in&hellip;.let's say
December 2012.  The bdx will then show under indemnity or loss payment
the $5,000.  But&hellip;.if we recover the $5,000 in January, the bdx will
show $0 for indemnity or loss because we recovered against it.  That's
not what we want.
</p>
<p>
We want any / all payments to show up on the bdx as having been paid.
And separately, we want to show that we've collected the deductible.
</p>
<p>
Can you let me know what you can do on this?
</p>
<p>
Thanks,
</p>
<p>
Trisha Loscombe
</p>
</blockquote>


<p>
Ok, so. I have recently redone the bordereaux, in <a href="file:///home/drewc/maxclaims/src/maxclaims-wip/src/report/bordereau.lisp">report/bordereau</a>
</p>
<ul>
<li><code>[X]</code> I'd like for deductibles to NOT be linked into transactions

<p>
    This means that the recovered deductibles should not be in the claim
    transaction list.
</p>



<pre class="src src-sql">transaction_type_id    | integer                     | not null
  SELECT * from claim_transaction_type;                                                                     

  claim_transaction_type_id |       description   
                          1 | Open Reserve                             
                          2 | Reserve Adjustment                     
                          3 | Cheque - Loss                            
                          4 | Cheque - Expense                         
                          5 | Cheque - In House Payout                
                          6 | Subrogation  
                          7 | Salvage Recovery  
                          8 | Recovered Deductible        

</pre>


<p>
    So the following was done.
</p>



<pre class="src src-lisp">(<span style="color: #483d8b;">:select</span> 
 * <span style="color: #483d8b;">:from</span> claim-transaction
 <span style="color: #483d8b;">:where</span> 
 (<span style="color: #483d8b;">:and</span> (<span style="color: #483d8b;">:=</span> claim-id ,(maxclaims::claim.claim-id claim))
       (<span style="color: #483d8b;">:not</span> (<span style="color: #483d8b;">:in</span> transaction_type_id
                  (<span style="color: #483d8b;">:select</span> claim_transaction_type_id
                           <span style="color: #483d8b;">:from</span> claim-transaction-type
                           <span style="color: #483d8b;">:where</span> (<span style="color: #483d8b;">:=</span> description 
                                      <span style="color: #8b2252;">"Recovered Deductible"</span>))))))

</pre>


</li>
<li><code>[X]</code> I'd like them to have their own heading or their own tab

<p>    
    The recovered deductible transaction in now on the front page under a "Recovered Deductible" thing.
</p>
</li>
<li><code>[X]</code> Look for what is going on. [2/2]

<blockquote>

<p>Because the deductibles are linked to
transactions - we could pay $5,000 to an insured in&hellip;.let's say
December 2012.  The bdx will then show under indemnity or loss payment
the $5,000.  But&hellip;.if we recover the $5,000 in January, the bdx will
show $0 for indemnity or loss because we recovered against it.  That's
not what we want.
</p>
</blockquote>


<ul>
<li><code>[X]</code> <a href="file:///home/drewc/maxclaims/src/maxclaims/src/web-display/display.lisp#contract-bordereau">add the contract bordereau viewer function</a>
</li>
<li><code>[X]</code> Try to see 
<blockquote>

<p>looking at 28815 the loss is 63213.26
setting the recovered deductible, the loss is now 62102.26
"That's not what we want."
</p>
</blockquote>


</li>
</ul>

</li>
<li><code>[X]</code> "We want any / all payments to show up on the bdx as having been paid." [1/1]
<ul>
<li><code>[X]</code> Ok, so what is the bordereau loss? 



<pre class="src src-lisp">(<span style="color: #8b2252;">"Loss"</span> (claim-loss claim.claim-id)
 <span style="color: #483d8b;">:total</span>)          
</pre>


<pre class="src src-sql">maxclaims01=# select proname,prosrc from pg_proc where proname = <span style="color: #8b2252;">'claim_loss'</span>;                 

 claim_loss |                                                                                +                                   
                    |  SELECT (claim_cheque_loss ($1, $2, $3)                                  
            |          - (claim_salvage ($1, $2, $3) + claim_subrogation ($1, $2, $3)        + 
            |              + claim_recovered_deductible($1, $2, $3)));                       + 
            |                                                                                  
 claim_loss |                                                                                + 
            | SELECT (claim_cheque_loss ($1, $2, $3, $4)                                    + |
            | - (claim_salvage ($1, $2, $3, $4) + claim_subrogation ($1, $2, $3, $4)+         |
            | + claim_recovered_deductible($1, $2, $3, $4)));                     +           |
            |                                                                                 |
            |                                                                                 |
</pre>


<p>      
      claim<sub>id</sub> integer, end<sub>date</sub> timestamp without time zone DEFAULT
      'infinity'::timestamp without time zone, start<sub>date</sub> timestamp
      without time zone DEFAULT '-infinity'::timestamp without time
</p>
<p>      
      heading text, claim<sub>id</sub> integer, end<sub>date</sub> timestamp without time
      zone DEFAULT 'infinity'::timestamp without time zone, start<sub>date</sub>
      timestamp without time zone DEFAULT '-infinity'::timestamp
      without time zone zone
</p></li>
</ul>

</li>
</ul>



<ul>
<li><code>[X]</code> define a migration to remove the loss 
      <a href="file:///home/drewc/maxclaims/src/maxclaims-wip/database/migrations.lisp#define-migration-16">migration 16</a> 
<blockquote>

<p>now the bordereau shows $63336.26
as it should.
</p>
</blockquote>



</li>
<li><code>[X]</code> And separately, we want to show that we've collected the
</li>
</ul>

<p>    deductible.
</p>
</div>
</div>

</div>

<div id="outline-container-3-32" class="outline-3">
<h3 id="sec-3-32"><span class="section-number-3">3.32</span> <span class="done DONE"> DONE</span> remove old UCW app [3/3]</h3>
<div class="outline-text-3" id="text-3-32">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-10 Sun 21:38</span></span><br/>
</p><ul>
<li><code>[X]</code> Remove all the things from the .asdf [5/5]
<ul>
<li><code>[X]</code> first try and remove what is 'not' needed
</li>
<li><code>[X]</code> The name "LISP-ON-LINES-UCW" does not designate any package.
</li>
<li><code>[X]</code> There is no class named RELATIONAL-OBJECTS-FOR-LISP:DESCRIBED-DB-ACCESS-CLASS
     this is really from lol, which is no longer there. S
<ul>
<li><code>[X]</code> go into lol and pull the def out
       ok, there is a lot, so
</li>
<li><code>[X]</code> put it in the correct file in maxclaims
</li>
</ul>

</li>
<li><code>[X]</code> add all the correct symbols
</li>
<li><code>[X]</code> remove the entry-points
</li>
</ul>

</li>
<li><code>[X]</code> Test the app now login [2/2]
<ul>
<li><code>[X]</code> create the login entry point
</li>
<li><code>[X]</code> test test test
</li>
</ul>

</li>
<li><code>[X]</code> make sure that all the point do the right thing for redirect
</li>
</ul>





</div>

</div>

<div id="outline-container-3-33" class="outline-3">
<h3 id="sec-3-33"><span class="section-number-3">3.33</span> <span class="done DONE"> DONE</span> [11/11]</h3>
<div class="outline-text-3" id="text-3-33">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-10 Sun 21:39</span></span><br/>
</p>
</div>

<div id="outline-container-3-33-1" class="outline-4">
<h4 id="sec-3-33-1"><span class="section-number-4">3.33.1</span> <span class="done DONE"> DONE</span> Wednesday Feb 20 [3/3]</h4>
<div class="outline-text-4" id="text-3-33-1">

<p>     <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-03-10 Sun 21:39</span></span><br/>
</p><ul>
<li id="sec-3-33-1-1"><a name="ID-438b541b-b94a-48bd-a6d4-833c1406ea59" id="ID-438b541b-b94a-48bd-a6d4-833c1406ea59"></a><span class="done DONE"> DONE</span> Create / Edit confirmation not showing things where it should. [3/3]<br/>
     <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-02-20 Wed 16:14</span></span><br/>

<ul>
<li><code>[X]</code> try to create a defer diary, note that the final
      confirmation screen does not have it
</li>
<li><code>[X]</code> view the source



<pre class="src src-html">&lt;<span style="color: #0000ff;">input</span> <span style="color: #a0522d;">name</span>=<span style="color: #8b2252;">"past[DEFER-DATE]"</span> <span style="color: #a0522d;">type</span>=<span style="color: #8b2252;">"hidden"</span> <span style="color: #a0522d;">value</span>=<span style="color: #8b2252;">"None"</span>/&gt;
&lt;<span style="color: #0000ff;">input</span> <span style="color: #a0522d;">name</span>=<span style="color: #8b2252;">"present[DEFER-DATE]"</span> <span style="color: #a0522d;">type</span>=<span style="color: #8b2252;">"hidden"</span> <span style="color: #a0522d;">value</span>=<span style="color: #8b2252;">"2013-02-20"</span>/&gt;
</pre>

</li>
<li><code>[X]</code> Ok, so for timestamp it will not display &hellip; so &hellip; [2/2]
      <a href="file:///home/drewc/maxclaims/src/maxclaims-wip/src/web-display/edit.lisp#as-html-value">web-display/edit</a>
<ul>
<li><code>[X]</code> Claim is editable &hellip; should not be.
</li>
<li><code>[X]</code> 2881528815 &lt;&mdash; dual claim displayed.
         <a href="file:///home/drewc/maxclaims/src/maxclaims-wip/src/web-display/edit.lisp#when-and-not-edit-value">web-display/edit.lisp::(when (and (not edit?) value</a>



<pre class="src src-lisp">(<span style="color: #a020f0;">when</span> (and (not edit?) value
           (not (integerp 
                 (<span style="color: #a020f0;">ignore-errors</span> 
                   (parse-integer  value)))))
  (display value <span style="color: #483d8b;">:inline</span>))        
</pre>

</li>
</ul>

</li>
</ul>


</li>
</ul>
<ul>
<li id="sec-3-33-1-2"><span class="done DONE"> DONE</span> confirm edit does not display certain fields<br/>
      <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-02-19 Tue 01:51</span></span><br/>

<p>     
     since some things are displayed twice, this may be a reversal.
     No! It had to do with the view-display, and it now shows
</p>

</li>
</ul>
<ul>
<li id="sec-3-33-1-3"><span class="done DONE"> DONE</span> date and timestamp are displayed differently<br/>
     <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-02-18 Mon 22:37</span></span><br/>
    This is done with <a href="file:///home/drewc/maxclaims/src/maxclaims-wip/src/ecm-description.lisp#defun-print-date-to-string-timestamp">print-date-to-string</a>
</li>
</ul>
</div>

</div>

<div id="outline-container-3-33-2" class="outline-4">
<h4 id="sec-3-33-2"><span class="section-number-4">3.33.2</span> <span class="done DONE"> DONE</span> Person "Claims as Adjuster" is not working?</h4>
<div class="outline-text-4" id="text-3-33-2">

<p>     <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-02-18 Mon 23:50</span></span><br/>
    was a problem with the view-link, \*debug-on-error* did the right thing.
</p></div>

</div>

<div id="outline-container-3-33-3" class="outline-4">
<h4 id="sec-3-33-3"><span class="section-number-4">3.33.3</span> <span class="done DONE"> DONE</span> Add "ECM Users" to Person</h4>
<div class="outline-text-4" id="text-3-33-3">

<p>     <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-02-19 Tue 02:53</span></span><br/>
</p>
<p>
    /maxclaims/ecm/view?person=11169 is Trish, and she is a user, So
    we should be able to view the users from the person page.
</p>
</div>

</div>

<div id="outline-container-3-33-4" class="outline-4">
<h4 id="sec-3-33-4"><span class="section-number-4">3.33.4</span> <span class="done DONE"> DONE</span> Date has issues for contract</h4>
<div class="outline-text-4" id="text-3-33-4">

<p>     <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-02-18 Mon 19:56</span></span><br/>
</p>
<blockquote>

<p>H30800 prop Effective Date DATE Error: When attempting to read the
slot's value (slot-value), the slot DATE is missing from the
object #&lt;SIMPLE-DATE:DATE 01-01-2000&gt;. Expiry Date DATE Error: When
attempting to read the slot's value (slot-value), the slot DATE is
missing from the object #&lt;SIMPLE-DATE:DATE 31-12-2000&gt;. Agency Scott
Cherry company Cherry Insurance Ltd
</p>
</blockquote>


<p>
looking in <a href="file:///home/drewc/maxclaims/src/maxclaims-wip/src/ecm-description/contract.lisp">ecm-description/contract.lisp</a> it seems that it sets it to
the timestamp, but it is a date.
</p>
<p>
Ok, fixed the <a href="file:///home/drewc/maxclaims/src/maxclaims-wip/src/ecm-description.lisp#define-descriptions-simple-date-date">description for date</a>. It works, but date and timestamp
are displayed differently. Should not be so is a todo.
</p>
</div>

</div>

<div id="outline-container-3-33-5" class="outline-4">
<h4 id="sec-3-33-5"><span class="section-number-4">3.33.5</span> <span class="done DONE"> DONE</span> Can you provide a total for the amount of hours spent on the file on the Timecards tab? [2/2]</h4>
<div class="outline-text-4" id="text-3-33-5">

<p>     <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-02-18 Mon 19:47</span></span><br/>
</p>
<p>
This is actually important for the interim as well, so have to look at
it and figure it out. 
</p>
<ul>
<li><code>[X]</code> <a href="file:///home/drewc/maxclaims/src/maxclaims/src/ecm-description/claim.lisp#defmethod-object-attribute-value">description claim</a>  [2/2]

<p>    
   This selects the TIMECARD objects. What if we made the INTERIM a
   total of timecard objects and ORDER-BY DATE &hellip;
</p>
<ul>
<li><code>[X]</code> first have a total dated NOW() at the bottom
</li>
<li><code>[X]</code> then add the interims in the middle

</li>
</ul>

</li>
<li><code>[X]</code> "viewdelete" for when there is no persistant
<blockquote>

<p>  viewdelete shows up rather then the buttons, 
</p>
<p>
so added a #+NIL to <a href="file:///home/drewc/maxclaims/src/maxclaims/src/web-display/display.lisp#defmacro-link-object-place-att-list-body-body">display.lisp for %link macro</a>
</p>
</blockquote>


</li>
</ul>


</div>

</div>

<div id="outline-container-3-33-6" class="outline-4">
<h4 id="sec-3-33-6"><span class="section-number-4">3.33.6</span> <span class="done DONE"> DONE</span> Migrate users timecards between two claims for users</h4>
<div class="outline-text-4" id="text-3-33-6">

<p>     <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-02-19 Tue 02:11</span></span><br/>
</p>
<blockquote>

<p>Can you do me a favour and remove all entries on claim 29099 by
Ryan.  I'd like them to be moved to his file, 29044.
</p>
</blockquote>


<p>
    Added a button to timecard views.
</p>
</div>

</div>

<div id="outline-container-3-33-7" class="outline-4">
<h4 id="sec-3-33-7"><span class="section-number-4">3.33.7</span> <span class="done DONE"> DONE</span> Add interim to timecard display so add and delete work.</h4>
<div class="outline-text-4" id="text-3-33-7">

<p>     <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-02-18 Mon 20:06</span></span><br/>
</p>
<p>
    it seems to now, though <a href="#sec-3-25">What goes on with the dates for timecards and interims?</a>
</p></div>

</div>

<div id="outline-container-3-33-8" class="outline-4">
<h4 id="sec-3-33-8"><span class="section-number-4">3.33.8</span> <span class="done DONE"> DONE</span> fix add new timecard</h4>
<div class="outline-text-4" id="text-3-33-8">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-02-18 Mon 17:36</span></span><br/>
</p>
<p>
when trying to add : 
</p>
<blockquote>

<p>When attempting to set the slot's value to "1" (SETF of SLOT-VALUE), the slot
MAXCLAIMS/DATA-ENTITY/APP-USER-<a href="#MESSAGE-FROM">MESSAGE:FROM</a> is missing from the object
</p>
</blockquote>


<p>
<a href="file:///home/drewc/maxclaims/src/maxclaims/src/ecm-description/claim.lisp#timecards-as-table-create-timecard-claim-id">the claim desc to add it</a>
</p>
<p>
the create display has <a href="file:///home/drewc/maxclaims/src/maxclaims/src/web-display/display.lisp#key-string-downcase-princ-to-string-third-as-table">create-a-btn</a>
</p>
<p>
So it seems to be setting the FROM attribute &hellip; I remember doing that
for the messages ..
</p>
<p>
[[http://localhost:8181/maxclaims/ecm/create?create[type]=claim-transaction&amp;create[key]=claim-id&amp;access[type]=claim&amp;access[id]=1234&amp;attribute[from]=1&amp;back[active-tab]=Deductible&ndash;Reserve-and-Transactions][http://localhost:8181/maxclaims/ecm/create?create[type]=claim-transaction&amp;create[key]=claim-id&amp;access[type]=claim&amp;access[id]=1234&amp;attribute[from]=1&amp;back[active-tab]=Deductible&ndash;Reserve-and-Transactions]]
</p>
<p>
So #+NIL it for now
</p>
</div>

</div>

<div id="outline-container-3-33-9" class="outline-4">
<h4 id="sec-3-33-9"><span class="section-number-4">3.33.9</span> <span class="done DONE"> DONE</span> Add the TODO html to the application [3/3]</h4>
<div class="outline-text-4" id="text-3-33-9">

<p>     <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-02-18 Mon 17:20</span></span><br/>
</p>
<ul>
<li><code>[X]</code> add the todo entry point
</li>
<li><code>[X]</code> make the html come from exporting <code>this file</code>
</li>
<li><code>[X]</code> add it to the navbar
<blockquote>

<p>this will be for administrators only     
</p>
</blockquote>


</li>
</ul>


</div>

</div>

<div id="outline-container-3-33-10" class="outline-4">
<h4 id="sec-3-33-10"><span class="section-number-4">3.33.10</span> <span class="done DONE"> DONE</span> The timecards are shown as fractions which seems confusing. 1/10 or 3/5. Decimals is easier to add up.</h4>
<div class="outline-text-4" id="text-3-33-10">

<p>     <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-02-18 Mon 16:58</span></span><br/>
</p>
</div>

</div>

<div id="outline-container-3-33-11" class="outline-4">
<h4 id="sec-3-33-11"><span class="section-number-4">3.33.11</span> <span class="done DONE"> DONE</span> Timecards are not all in date order</h4>
<div class="outline-text-4" id="text-3-33-11">

<p>    <span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2013-02-18 Mon 16:57</span></span><br/>
</p>
<blockquote>

<p>The entries done on the old system show up as oldest to newest, but
then the new system puts them on top.  Sometimes they are just not
chronological so you'll have 2011, 2013, 2011, 2012 etc etc.
</p>
<p>
 &ndash; Ami
</p>
</blockquote>


<p>
ok, changed it to:
</p>



<pre class="src src-lisp">(<span style="color: #483d8b;">:order-by</span> 
 (<span style="color: #483d8b;">:select</span> * <span style="color: #483d8b;">:from</span> 'timecard
          <span style="color: #483d8b;">:where</span> (<span style="color: #483d8b;">:=</span> claim-id ,(maxclaims::claim.claim-id claim)))
 date)
</pre>



</div>
</div>
</div>

</div>

<div id="outline-container-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> appendix</h2>
<div class="outline-text-2" id="text-4">


<p>
50.7.166.105
</p></div>
</div>
</div>

<div id="postamble">
<p class="date">Date: 2013-06-04 18:23:37 PDT</p>
<p class="author">Author: Drew Crampsie</p>
<p class="creator">Org version 7.8.02 with Emacs version 24</p>
<a href="http://validator.w3.org/check?uri=referer">Validate XHTML 1.0</a>

</div>
</body>
</html>
